{{/*
Use Hugo's native Table of contents feature. You must set `toc: true` in your parameters for this to show.
https://gohugo.io/content-management/toc/
*/}}

{{/*- if .Params.toc -}}
<div>
	<p>What's in this {{ humanize .Type }}</p>
	{{ .TableOfContents }}
</div>
{{- end -*/}}

{{/*
Use Hugo's native related content feature to pull in content that may have similar parameters, like tags. etc.
https://gohugo.io/content-management/related/
*/}}

{{ $related := .Site.RegularPages.Related . | first 15 }}

{{ with $related }}

<h3 class="title is-5 mt-6">Related content</h3>

<div class="card">
	<div class="card-content">

		<ul>
			{{ range . }}
			<li>
				<!--div class="tag mr-3">{{- .Params.categories -}}</div-->
				<a href="{{ .RelPermalink }}">
					{{- .Title -}}
				</a>
				<small class="ml-2">
					{{ .Params.categories }} &bull;
					<time class="dt-published" datetime="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}">
						{{- .Date.Format "January 2, 2006" -}}
					</time>
				</small>
			</li>
			{{ end }}
		</ul>

	</div>
</div>

{{ end }}